<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>P.E.T.: PHP Processor Engine for Templates</title>
	<link rel="stylesheet" type="text/css" id="layout" href="layout.css">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="header">
	<div id="navLinks">
		[ <a href="classtrees_P.E.T..html">Class Tree: P.E.T.</a> ]
		[ <a href="elementindex_P.E.T..html">Index: P.E.T.</a> ]
		[ <a href="elementindex.html">All elements</a> ]
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">P.E.T.</div>
		<div id="packageTitle">P.E.T.</div>
		<div id="elementPath"> &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="packages">
		Packages:
					<p><a href="li_P.E.T..html">P.E.T.</a></p>
			</div>


				<div id="index">
			<div id="files">
								Files:<br>
								<a href="P.E.T./_class_pet_eng_inc_php.html">		class_pet.eng.inc.php
		</a><br>
				</div>
			<div id="classes">
				Classes:<br>
								<a href="P.E.T./pet.html">		pet
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
		<h1>
     P.E.T.: Processor Engine for Templates
	 <br>
	 Documentation & Userguide
   </h1>
   written by Andreas Demmer
   (<a href="mailto:andreas@demmer-online.de">andreas@demmer-online.de</a>)
   <br>
   project website:
   <a href="http://php-pet.sourceforge.net" target="_blank">http://php-pet.sourceforge.net</a>
   <br><br><br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <b>Index</b>
         <ul>
           <li><a href="#preface">The Preface</a></li>
           <li>The Meta-Language For Designing The Templates</li>
	       <ul>
             <li><a href="#content-tags">The Content Tags</a></li>
             <li><a href="#loop-tags">The Loop Tags</a></li>
             <li><a href="#ssi">SSI: Server Side Includes</a></li>
           </ul>
           <li><a href="#preparing">Preparing The Content In PHP</a></li>
	       <li><a href="#processing">Processing The Templates And Handling The Result</a></li>
	       <ul>
             <li><a href="#example">An Example</a></li>
           </ul>
         </ul>	   
	   </td>
	 </tr>
   </table>
   <br><br>   
   <a name="preface"></a>
   <h3>What Is P.E.T.?</h3>
   P.E.T. is both a meta-language for designing templates and a engine for processing them. It may be used to
   seperate PHP source code from source code written in HTML and therefore, makes your scripts much easier
   to handle.
   <br>
   <h3>What Can It Do?</h3>
   It can replace substitute symbols in your templates with content delivered by your PHP script. It is not limited
   to single pieces of content but will also work with arbitary interlocked datasets with multiple rows each. You can
   use loop tags to define parts of the template, which should be repeated for each row in datasets. Further more,
   you can make use of Server Side Includes for as P.E.T. will process them, even if your webserver has no built-in
   support for that.
   <br>
   <h3>The Meta-Language For Designing The Templates</h3>
   The templates are not limited to a certain filetype, they can be HTML documents as well as plain text files etc.
   <br><br>
   <a name="content-tags"></a>
   <b>The Content Tags</b>
   <br><br>
   The content tag is used to specify which content should be placed at which position. Insert it into the tempaltes
   at the positons where dynamic content should stand. The name of the tag specifies the content.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        Hello &lt;!-- {name} --&gt;, how are you?
         </code>
	   </td>
	 </tr>
   </table> 
   <br><br>
   <a name="loop-tags"></a>
   <b>The Loop Tags</b>
   <br><br>
   All content between the begin loop and the end loop tag will be repeatet for each row of
   an array in the content which is named like the loop.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        &lt;table&gt;<br>
  	        &nbsp;&nbsp;&lt;!-- begin loop {contacts} --&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;!-- {name} --&gt;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;!-- {number} --&gt;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt; <br>
  	        &nbsp;&nbsp;&lt;!-- end loop --&gt;<br>
  	        &lt;/table&gt;
         </code>
	   </td>
	 </tr>
   </table> 
   <br>
   Loops can contain further loops as long as the content arrays for the loops
   contain further content arrays fur the subloops. This allows you to display arbitary
   interlocked datasets.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        &lt;table&gt;<br>
  	        &nbsp;&nbsp;&lt;!-- begin loop {contacts} --&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;!-- {name} --&gt;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- begin loop {numbers} --&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- {number} --&gt;&lt;br&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- end loop --&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt; <br>
  	        &nbsp;&nbsp;&lt;!-- end loop --&gt;<br>
  	        &lt;/table&gt;
         </code>
	   </td>
	 </tr>
   </table>     
   <br><br><br>
   <a name="ssi"></a>
   <b>SSI: Server Side Includes</b>
   <br><br>
   SSI tags are used to include the content of other files into the source code. This happens
   before the template tags are processed which allows the included file to also contain
   template tags which will be processed together with the ones in the hostfile.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>  
  	        &lt;!--#include virtual="header.html" --&gt;
         </code>
	   </td>
	 </tr>
   </table>
   <br>
   <a name="content"></a>
   <h3>Preparing The Content In PHP</h3>
   The content is added by a class method "$pet-&gt;add_content($content, $name)".
   $name is the name of the content tag in the template.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $pet-&gt;add_content('John Doe', 'name');<br>
			$pet-&gt;add_content('john@doe.com', 'email');
         </code>
	   </td>
	 </tr>
   </table> 
   <br>
   <i>The content array will look like this:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $content<br>
			&nbsp;&nbsp;&nbsp;[name] => John Doe<br>
			&nbsp;&nbsp;&nbsp;[email] => john@doe.com
         </code>
	   </td>
	 </tr>
   </table> 
   <br><br>   
   Whole datasets (like a database query result) can be handed over
   as well.
   <br><br>
   <i>Example:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $band[][member] = 'Peter';<br>
			$band[][member] = 'Paul';<br>
			$band[][member] = 'Mary';<br>
			$pet-&gt;add_content($band, 'band');
         </code>
	   </td>
	 </tr>
   </table> 
   <br>
   <i>The content array will look like this:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $content<br>
			&nbsp;&nbsp;&nbsp;[band] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Peter<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Paul<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Mary	
         </code>
	   </td>
	 </tr>
   </table>
   <br>
   Of course, several single tags and several loop tags can be written in one array
   <br>   
   <br>
   <i>The content array will look like this:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $content<br>
			&nbsp;&nbsp;&nbsp;[name] => John Doe<br>
			&nbsp;&nbsp;&nbsp;[band] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Peter<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Paul<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[member] => Mary<br>
			&nbsp;&nbsp;&nbsp;[colors] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[color] => red<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[color] => green<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[color] => blue<br>			
         </code>
	   </td>
	 </tr>
   </table>
   <br>
   Loops within loops can be given content by creating an interlocked content array.
   <br>   
   <br>
   <i>The content array will look like this:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        $content<br>
			&nbsp;&nbsp;&nbsp;[bands] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Peter, Paul & Mary<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[members] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Peter<br>			
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Paul<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Mary<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => The Beatles<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[members] => ARRAY<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => John<br>			
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Paul<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => George<br>				
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[name] => Ringo
		 </code>
	   </td>
	 </tr>
   </table>    
   <br>
   <i>The template for this would look like this:</i>
   <br>
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
         <code>
	        &lt;table&gt;<br>
  	        &nbsp;&nbsp;&lt;!-- begin loop {bands} --&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;&lt;!-- {name} --&gt;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- begin loop {members} --&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- {name} --&gt;&lt;br&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- end loop --&gt;<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
  	        &nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt; <br>
  	        &nbsp;&nbsp;&lt;!-- end loop --&gt;<br>
  	        &lt;/table&gt;
         </code>
	   </td>
	 </tr>
   </table>
   <br>
   This would list each band with all of its members well formatted within a table.        
   <br><br>
   <a name="processing"></a>
   <h3>Processing The Templates And Handling The Result</h3>
   Once created a template and an equivalent content array, it es quite simple to bring
   the content into the template.
   <br><br>
   <a name="example"></a>
   <i>Example:</i> 
   <table bgcolor="#cccccc" cellpadding="5">
     <tr>
	   <td>
	     <code>
	       &lt;?<br>
		   &nbsp;&nbsp;$pet = new pet;<br>
		   &nbsp;&nbsp;$pet->read_file('test.html');<br>
           &nbsp;&nbsp;$pet->add_content('Hello world!', 'header');<br>		   
		   &nbsp;&nbsp;$pet->parse();<br>
		   &nbsp;&nbsp;$pet->output();<br>
		   ?&gt;
		 </code> 
	   </td>
	 </tr>
   </table>
   <br>
   Quite easy, isn't it? :-)                   
  </body>
</html>
	<div id="credit">
		<hr>
		Documention generated on Fri, 10 Jan 2003 12:29:04 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.1.0</a>
	</div>
</div>
</body>
</html>