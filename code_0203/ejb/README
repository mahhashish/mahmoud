N-tiered Architecture README
Author: Dave Palmer <minusone@yahoo.com>

1.0 Introduction

	This README file is to provide some help in getting your system
	configured to run the user management application

	I would highly and strongly recommend you read all documentation
	for each component I address. I can't possibly answer all questions
	but someone has! So please RTFM :)

2.0 PHP Configuration

	You need to have PHP configured for Java support. This usually means
	just making some changes to your php.ini file. 

	You first need the libphp_java.so module compiled (if you are using Linux).
	Check out the configure script... in particular the --with-java option.

	If you are on Win32, you should have the .dll.

	You need to include this line in your php.ini:
	extension=libphp_java.so (for Linux)
	extension=php_java.dll

	next you need to make some changes to the [Java] section of your php.ini
	here's what my php.ini looks like:

	[Java]
	# java.class.path MUST be all on one line!
	java.class.path = /usr/local/php4/lib/php/php_java.jar:
	/usr/local/jboss/server/default/deploy/PHPA_UserEJB.jar:
	/usr/local/jboss/client/jbossall-client.jar:/usr/local/jboss/client/jboss-j2ee.jar:
	/usr/local/jboss/client/jnet.jar:/usr/local/jboss/client/log4j.jar:/usr/local/jboss/client/wddx.jar:
	/usr/local/jboss/client/xerces.jar:/usr/local/jboss/client/xalan.jar
	
	java.home = /usr/java
	java.library.path = /usr/local/php4/lib/php/20020429-zts
	java.library = /usr/java/jre/lib/i386/server/libjvm.so

	I would recommend checking out: http://www.onlamp.com/pub/a/php/2001/06/14/php_jav.html
	Also look at this: http://www.php.net/manual/en/ref.java.php

3.0 JBoss Configuration

	JBoss is the J2EE application server I generally prefer. There are many other open source
	J2EE application servers that are quite nice, but for the sake of this example application, I would
	recommend JBoss:

	http://www.jboss.org

	Download the latest stable release and install it on to your system. Installation is quite simple
	and does not require a great deal of configurations. I would highly recommend:

	http://prdownloads.sourceforge.net/jboss/JBoss.3.0QuickStart.Draft3.pdf

	In order to get started and get the EJB up and running, copy the PHPA_UserEJB.jar to:

	JBOSS_HOME/server/default/deploy

	You also need to create a JDBC datasource. I have included two configuration XML files that
	will get you started in creating a datasource.

	phpa_mysql-service.xml must be copied into JBOSS_HOME/server/default/deploy and login-config.xml
	must be copied into JBOSS_HOME/server/default/conf directory.

	Make sure to change the user names, passwords, hosts and database names in these files!

4.0 MySQL Configuration

	If you haven't already, download MySQL for your system and get it running. Go to:

	http://www.mysql.com/downloads/index.html

	Once you have MySQL running, using phpMyAdmin or something similar to create a new database. 
	The name of the database you create should be the same as the one you specified in your 
	phpa_mysql-service.xml file in the element: 

		<config-property name="ConnectionURL" type="java.lang.String">

	Once you have your database created, run the create_table.sql script to generate the table you'll
	need to run this application.

5.0 Apache

	Now with everything configured you can drop the index.php into your web root somewhere and
	start using the application. If you run into errors, make sure PHP/Java support is configured correctly
	and it works. Test this out by doing this:

	<?php
	$java = new Java ("java.lang.System");
	echo $java->currentTimeMillis();
	?>

	


	


